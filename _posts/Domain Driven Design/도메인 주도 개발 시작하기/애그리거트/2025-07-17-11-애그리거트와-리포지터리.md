---
layout: single
title: "3. 애그리거트와 리포지터리"
categories:
  - Domain Driven Design
  - 도메인 주도 개발 시작하기
  - 애그리거트
tags:
  - DDD
  - 애그리거트
  - 리포지터리
  - 도메인모델
toc: true
toc_sticky: true
---

- 애그리거트는 개념상 한 개의 도메인 모델을 표현하므로, 리포지터리는 애그리거트 단위로 존재해야

# 1. 영속화

- 애그리거트와 관련된 테이블이 여러 개면, 애그리거트 저장 시 해당 애그리거트에 속한 모든 관련 테이블에 데이터를 저장해야

- RDBMS 사용 시, 트랜잭션으로 애그리거트를 원자적으로 저장 가능
- MongoDB 사용 시, 한 애그리거트를 한 개 문서에 저장해, 애그리거트를 원자적으로 저장 가능

# 2. 조회

- 애그리거트 조회 시, 완전한 에그리거트를 조회할 수 있도록, 모든 구성요소를 포함해야
    - 완전한 애그리거트가 아니면, `NullPointerException` 등이 발생

---
