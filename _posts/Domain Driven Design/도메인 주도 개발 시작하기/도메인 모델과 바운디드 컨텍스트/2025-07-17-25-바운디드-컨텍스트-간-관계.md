---
layout: single
title: "5. 바운디드 컨텍스트 간 관계"
categories:
  - Domain Driven Design
  - 도메인 주도 개발 시작하기
  - 도메인 모델과 바운디드 컨텍스트
tags:
  - DDD
  - 바운디드컨텍스트
  - 관계
  - 도메인모델
toc: true
toc_sticky: true
---
# 1. 고객/공급자 관계

- 한쪽(상류)에서 API를 제공하면, 다른 한쪽(하류)에서 API를 호출(예, REST API)
- 카탈로그 컨텍스트(하류)는 추천 컨텍스트(상류)가 제공하는 데이터와 기능에 의존
    
    ![image.png](/assets/images/Domain Driven Design/도메인 주도 개발 시작하기/도메인 모델과 바운디드 컨텍스트/25-바운디드-컨텍스트-간-관계/image.png)
    
    - 상류가 바뀌면 하류도 같이 바뀌어야
    - 따라서 상류/하류 팀은 개발 계획을 서로 공유하고 일정을 협의해야

# 2. 공개 호스트 서비스

- 상류 컴포넌트는 하류 컴포넌트들의 요구 사항을 수용하는 API를 만들고 이를 서비스 형태로 공개
- 블로그, 카페, 게시판 서비스(하류)는 공개 호스트 서비스인 검색 서비스(상류)에 의존

![image.png](/assets/images/Domain Driven Design/도메인 주도 개발 시작하기/도메인 모델과 바운디드 컨텍스트/25-바운디드-컨텍스트-간-관계/image%201.png)

# 3. 안티코럽션 계층

- 상류 서비스는 상류 바운디드 컨텍스트의 도메인 모델을 따름
- 하류 컴포넌트가 상류 서비스의 모델에 영향을 받지 않기 위한 완충 지대가 필요
    - 예) RecSystemClient: 외부 시스템 연동, 시스템 간 모델 변환 수행
    
    ![image.png](/assets/images/Domain Driven Design/도메인 주도 개발 시작하기/도메인 모델과 바운디드 컨텍스트/25-바운디드-컨텍스트-간-관계/image%202.png)
    

# 4. 공유 커널

- 두 바운디드 컨텍스트가 모델을 공유해, 중복 설계를 줄임
- 다만, 임의로 모델을 변경하는 것을 주의해야 하며 두 팀이 밀접한 관계를 유지해야

# 5. 독립 방식

- 각 바운디드 컨텍스트가 독립적으로 모델을 발전시킴
- 독립 방식에서는 바운디드 컨텍스트 통합을 수동으로 진행해야
    - 온라인 쇼핑몰에서 판매가 발생하면, 운영자가 직접 수동으로 ERP 시스템에 입력해야
    
    ![image.png](/assets/images/Domain Driven Design/도메인 주도 개발 시작하기/도메인 모델과 바운디드 컨텍스트/25-바운디드-컨텍스트-간-관계/image%203.png)
    

- 수동 방식에는 한계가 있으므로, 컨텍스트 통합을 위해 별도의 통합 시스템을 만들기도
    
    ![image.png](/assets/images/Domain Driven Design/도메인 주도 개발 시작하기/도메인 모델과 바운디드 컨텍스트/25-바운디드-컨텍스트-간-관계/image%204.png)